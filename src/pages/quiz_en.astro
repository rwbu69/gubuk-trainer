---
import QuizLayout from "../layouts/QuizLayout.astro";
import CharacterList from "../components/CharacterList.astro";
import { generateQuizData, QuizFieldPresets } from "../utils/characterData";
import path from "path";

const { uniqueCharacters } = await generateQuizData({
  dataDir: path.join(
    process.cwd(),
    "data/extracted/with_release_en_without_version"
  ),
  outputFileName: "characters-en.json",
  fields: QuizFieldPresets.standard,
  baseUrl: import.meta.env.BASE_URL,
});
---

<QuizLayout
  title="Kuis Karakter - Server EN"
  subtitle="Tebak karakter berdasarkan petunjuk yang diberikan (sori belom di translet le)"
  scriptSrc={`${import.meta.env.BASE_URL}/scripts/quiz.js`}
>
  <div slot="character-list">
    <CharacterList
      characters={uniqueCharacters}
      baseUrl={import.meta.env.BASE_URL}
    />
  </div>
</QuizLayout>
